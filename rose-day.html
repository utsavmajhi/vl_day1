<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#ff1744" />
    <title>Happy Rose Day Tanya! üåπ</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pacifico&family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@400;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: "Playfair Display", serif;
        overflow-x: hidden;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 25%,
          #f093fb 50%,
          #f5576c 75%,
          #ff6b9d 100%
        );
        background-size: 400% 400%;
        animation: gradientFlow 15s ease infinite;
        min-height: 100vh;
        position: relative;
        touch-action: pan-y;
      }

      @keyframes gradientFlow {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .container {
        position: relative;
        z-index: 10;
        padding: 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      /* Main Title */
      .main-title {
        text-align: center;
        color: #fff;
        text-shadow:
          0 0 20px rgba(255, 255, 255, 0.8),
          0 0 40px rgba(255, 107, 157, 0.6);
        animation:
          fadeInDown 1.5s ease-out,
          glow 2s ease-in-out infinite alternate;
        margin-bottom: 30px;
      }

      .main-title h1 {
        font-family: "Pacifico", cursive;
        font-size: 2.5rem;
        margin-bottom: 10px;
        letter-spacing: 2px;
      }

      .main-title .subtitle {
        font-family: "Dancing Script", cursive;
        font-size: 1.8rem;
        font-weight: 700;
        color: #ffe6f0;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes glow {
        from {
          text-shadow:
            0 0 20px rgba(255, 255, 255, 0.8),
            0 0 40px rgba(255, 107, 157, 0.6);
        }
        to {
          text-shadow:
            0 0 30px rgba(255, 255, 255, 1),
            0 0 60px rgba(255, 107, 157, 0.9),
            0 0 80px rgba(255, 107, 157, 0.7);
        }
      }

      /* 3D Rotating Rose */
      .rose-container {
        position: relative;
        width: 150px;
        height: 150px;
        margin: 30px auto;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .rose {
        font-size: 120px;
        animation: rotate3d 4s linear infinite;
        filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.8));
        cursor: pointer;
        transition: transform 0.3s;
      }

      .rose:active {
        transform: scale(1.2);
      }

      @keyframes rotate3d {
        from {
          transform: rotateY(0deg);
        }
        to {
          transform: rotateY(360deg);
        }
      }

      /* Photo Gallery */
      .photo-gallery {
        display: flex;
        flex-direction: column;
        gap: 30px;
        margin: 30px 0;
        width: 100%;
        max-width: 400px;
        align-items: center;
      }

      .photo-card {
        position: relative;
        width: 100%;
        max-width: 320px;
        background: #fff;
        border-radius: 20px;
        padding: 15px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: fadeInUp 1s ease-out backwards;
        transition:
          transform 0.3s,
          box-shadow 0.3s;
      }

      .photo-card:nth-child(1) {
        animation-delay: 0.5s;
        transform: rotate(-3deg);
      }

      .photo-card:nth-child(2) {
        animation-delay: 0.8s;
        transform: rotate(3deg);
      }

      .photo-card:active {
        transform: scale(1.05) rotate(0deg) !important;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .photo-frame {
        position: relative;
        width: 100%;
        height: 400px;
        border-radius: 15px;
        overflow: hidden;
        background: #f5f5f5;
      }

      .photo-frame img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 15px;
      }

      .photo-caption {
        text-align: center;
        margin-top: 12px;
        font-family: "Dancing Script", cursive;
        font-size: 1.3rem;
        color: #ff1744;
        font-weight: 700;
      }

      .heart-overlay {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 30px;
        animation: heartbeat 1.5s ease-in-out infinite;
        filter: drop-shadow(0 0 10px rgba(255, 23, 68, 0.8));
      }

      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.2);
        }
        50% {
          transform: scale(1);
        }
      }

      /* Message Box */
      .message-box {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 25px;
        margin: 20px 0;
        max-width: 350px;
        text-align: center;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        animation: fadeIn 2s ease-out 1.5s backwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .message-box p {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #333;
        font-family: "Playfair Display", serif;
      }

      .message-box .highlight {
        color: #ff1744;
        font-weight: 700;
        font-family: "Dancing Script", cursive;
        font-size: 1.3rem;
      }

      /* Music Control */
      .music-control {
        position: fixed;
        bottom: 30px;
        right: 20px;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .music-btn {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #ff6b9d, #f5576c);
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 5px 20px rgba(255, 107, 157, 0.5);
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .music-btn:active {
        transform: scale(0.95);
        box-shadow: 0 3px 10px rgba(255, 107, 157, 0.7);
      }

      .music-btn.playing {
        animation: pulse 1.5s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 5px 20px rgba(255, 107, 157, 0.5);
        }
        50% {
          box-shadow: 0 5px 40px rgba(255, 107, 157, 0.9);
        }
      }

      /* Falling Rose Petals */
      .petal {
        position: fixed;
        top: -50px;
        font-size: 30px;
        animation: fall linear forwards;
        pointer-events: none;
        z-index: 5;
        opacity: 0.8;
      }

      @keyframes fall {
        to {
          transform: translateY(110vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* Particle Effects */
      .particle {
        position: fixed;
        pointer-events: none;
        z-index: 100;
        animation: particle-rise 1s ease-out forwards;
      }

      @keyframes particle-rise {
        to {
          transform: translateY(-100px) scale(0);
          opacity: 0;
        }
      }

      /* Touch Ripple */
      .ripple {
        position: fixed;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.8),
          transparent
        );
        pointer-events: none;
        animation: ripple-effect 0.6s ease-out forwards;
        z-index: 999;
      }

      @keyframes ripple-effect {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }

      /* Floating Hearts */
      .floating-heart {
        position: fixed;
        font-size: 20px;
        animation: floatUp 3s ease-in forwards;
        pointer-events: none;
        z-index: 5;
      }

      @keyframes floatUp {
        to {
          transform: translateY(-100vh) rotate(20deg);
          opacity: 0;
        }
      }

      /* Sparkles */
      @keyframes sparkle {
        0%,
        100% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1);
        }
      }

      .sparkle {
        position: fixed;
        width: 4px;
        height: 4px;
        background: white;
        border-radius: 50%;
        pointer-events: none;
        z-index: 10;
        animation: sparkle 1s ease-out forwards;
        box-shadow: 0 0 10px white;
      }

      /* Tap Instruction */
      .tap-instruction {
        position: fixed;
        bottom: 110px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.9);
        padding: 12px 20px;
        border-radius: 25px;
        font-size: 0.9rem;
        color: #ff1744;
        font-weight: 600;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        animation:
          fadeIn 1s ease-out 2s backwards,
          bounce 2s ease-in-out 3s infinite;
        z-index: 999;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        50% {
          transform: translateX(-50%) translateY(-10px);
        }
      }

      /* Loading Screen */
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #ff6b9d, #f5576c);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s;
      }

      .loading-screen.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .loading-rose {
        font-size: 80px;
        animation: rotate3d 2s linear infinite;
      }

      .loading-text {
        color: white;
        font-family: "Dancing Script", cursive;
        font-size: 1.5rem;
        margin-top: 20px;
      }

      /* Fireworks Canvas */
      #fireworksCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 50;
      }

      /* Special Name Animation */
      .special-name {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10000;
        display: flex;
        gap: 8px;
        opacity: 0;
        animation: nameAppear 0.5s ease-out 2s forwards;
      }

      @keyframes nameAppear {
        to {
          opacity: 1;
        }
      }

      .special-name.hidden {
        display: none;
      }

      .name-letter {
        font-family: "Pacifico", cursive;
        font-size: 4rem;
        color: #fff;
        text-shadow:
          0 0 20px rgba(255, 107, 157, 1),
          0 0 40px rgba(255, 107, 157, 0.8),
          0 0 60px rgba(255, 107, 157, 0.6),
          0 5px 10px rgba(0, 0, 0, 0.3);
        opacity: 0;
        transform: scale(0) rotate(-180deg);
        animation: letterPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      }

      .name-letter:nth-child(1) { animation-delay: 2.2s; }
      .name-letter:nth-child(2) { animation-delay: 2.4s; }
      .name-letter:nth-child(3) { animation-delay: 2.6s; }
      .name-letter:nth-child(4) { animation-delay: 2.8s; }
      .name-letter:nth-child(5) { animation-delay: 3.0s; }

      @keyframes letterPop {
        0% {
          opacity: 0;
          transform: scale(0) rotate(-180deg);
        }
        60% {
          transform: scale(1.2) rotate(10deg);
        }
        80% {
          transform: scale(0.9) rotate(-5deg);
        }
        100% {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }

      .name-letter.animate-float {
        animation: letterPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards,
                   floatLetter 3s ease-in-out 3.5s infinite;
      }

      @keyframes floatLetter {
        0%, 100% {
          transform: translateY(0px) scale(1);
        }
        50% {
          transform: translateY(-15px) scale(1.05);
        }
      }
    </style>
  </head>
  <body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-rose">üåπ</div>
      <div class="loading-text">Preparing something special...</div>
    </div>

    <!-- Fireworks Canvas -->
    <canvas id="fireworksCanvas"></canvas>

    <!-- Special Name Animation -->
    <div class="special-name" id="specialName">
      <span class="name-letter animate-float">T</span>
      <span class="name-letter animate-float">A</span>
      <span class="name-letter animate-float">N</span>
      <span class="name-letter animate-float">Y</span>
      <span class="name-letter animate-float">A</span>
    </div>

    <!-- Main Container -->
    <div class="container">
      <div class="main-title">
        <h1>Happy Rose Day! üåπ</h1>
        <div class="subtitle">Tanya ‚ù§Ô∏è</div>
      </div>

      <div class="rose-container">
        <div class="rose" id="mainRose">üåπ</div>
      </div>

      <div class="message-box">
        <p>
          To the most <span class="highlight">beautiful person</span> in my
          life, <br /><br />
          Every rose has its beauty, but
          <span class="highlight">none compare to yours</span>. <br /><br />
          Happy Rose Day, <span class="highlight">Tanya!</span> üíï
        </p>
      </div>

      <div class="photo-gallery">
        <div class="photo-card">
          <div class="photo-frame">
            <img src="ab2.png" alt="ab2" id="photo1" />
            <div class="heart-overlay">üíñ</div>
          </div>
          <div class="photo-caption">You & Your Adorable Smile üòä</div>
        </div>

        <div class="photo-card">
          <div class="photo-frame">
            <img src="ab1.JPG" alt="ab1" id="photo2" />
            <div class="heart-overlay">üíñ</div>
          </div>
          <div class="photo-caption">Beautiful Inside & Out ‚ú®</div>
        </div>
      </div>
    </div>

    <!-- Music Control -->
    <div class="music-control">
      <button class="music-btn" id="musicBtn">üéµ</button>
    </div>

    <div class="tap-instruction">‚ú® Tap anywhere for magic! ‚ú®</div>

    <!-- Audio Element -->
    <audio id="bgMusic" loop autoplay>
        <source src="TumSe_song.mp3" type="audio/mpeg">
    </audio>

    <script>
      // Initialize
      const body = document.body;
      const musicBtn = document.getElementById("musicBtn");
      const bgMusic = document.getElementById("bgMusic");
      const mainRose = document.getElementById("mainRose");
      const loadingScreen = document.getElementById("loadingScreen");
      const photo1 = document.getElementById("photo1");
      const photo2 = document.getElementById("photo2");

      let musicPlaying = false;
      let petalInterval;
      let heartInterval;

      // Hide loading screen
      setTimeout(() => {
        loadingScreen.classList.add("hidden");
      }, 1500);

      // Create falling rose petals
      function createPetal() {
        const petal = document.createElement("div");
        petal.className = "petal";
        petal.textContent = "üåπ";
        petal.style.left = Math.random() * 100 + "%";
        petal.style.fontSize = Math.random() * 20 + 20 + "px";
        petal.style.animationDuration = Math.random() * 3 + 4 + "s";
        petal.style.animationDelay = Math.random() * 2 + "s";
        body.appendChild(petal);

        setTimeout(() => petal.remove(), 7000);
      }

      // Create floating hearts
      function createFloatingHeart() {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.textContent = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 100 + "%";
        heart.style.bottom = "0px";
        body.appendChild(heart);

        setTimeout(() => heart.remove(), 3000);
      }

      // Start continuous effects
      petalInterval = setInterval(createPetal, 300);
      heartInterval = setInterval(createFloatingHeart, 1000);

      // Create sparkles
      function createSparkles(x, y, count = 10) {
        for (let i = 0; i < count; i++) {
          const sparkle = document.createElement("div");
          sparkle.className = "sparkle";
          sparkle.style.left = x + (Math.random() - 0.5) * 50 + "px";
          sparkle.style.top = y + (Math.random() - 0.5) * 50 + "px";
          sparkle.style.animationDelay = Math.random() * 0.3 + "s";
          body.appendChild(sparkle);

          setTimeout(() => sparkle.remove(), 1000);
        }
      }

      // Create particle burst
      function createParticleBurst(x, y) {
        const emojis = ["üåπ", "üíñ", "üíï", "‚ú®", "üí´", "‚≠ê"];
        for (let i = 0; i < 8; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.textContent =
            emojis[Math.floor(Math.random() * emojis.length)];
          particle.style.left = x + "px";
          particle.style.top = y + "px";
          particle.style.fontSize = Math.random() * 15 + 20 + "px";

          const angle = (Math.PI * 2 * i) / 8;
          const distance = Math.random() * 50 + 50;
          particle.style.setProperty("--tx", Math.cos(angle) * distance + "px");
          particle.style.setProperty("--ty", Math.sin(angle) * distance + "px");

          body.appendChild(particle);
          setTimeout(() => particle.remove(), 1000);
        }
      }

      // Create ripple effect
      function createRipple(x, y) {
        const ripple = document.createElement("div");
        ripple.className = "ripple";
        ripple.style.left = x - 25 + "px";
        ripple.style.top = y - 25 + "px";
        ripple.style.width = "50px";
        ripple.style.height = "50px";
        body.appendChild(ripple);

        setTimeout(() => ripple.remove(), 600);
      }

      // Touch/Click interaction
      body.addEventListener("touchstart", (e) => {
        const touch = e.touches[0];
        const x = touch.clientX;
        const y = touch.clientY;

        createRipple(x, y);
        createParticleBurst(x, y);
        createSparkles(x, y);

        // Vibrate on touch (if supported)
        if (navigator.vibrate) {
          navigator.vibrate(50);
        }
      });

      body.addEventListener("click", (e) => {
        createRipple(e.clientX, e.clientY);
        createParticleBurst(e.clientX, e.clientY);
        createSparkles(e.clientX, e.clientY);
      });

      // Music control
      musicBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        if (musicPlaying) {
          bgMusic.pause();
          musicBtn.textContent = "üéµ";
          musicBtn.classList.remove("playing");
        } else {
          bgMusic.play().catch((err) => {
            console.log("Audio play failed:", err);
          });
          musicBtn.textContent = "üé∂";
          musicBtn.classList.add("playing");
        }
        musicPlaying = !musicPlaying;
      });

      // Auto-play music on ANY user interaction
      function startMusic() {
        if (!musicPlaying) {
          bgMusic.play().then(() => {
            musicPlaying = true;
            musicBtn.textContent = "üé∂";
            musicBtn.classList.add("playing");
          }).catch((err) => {
            console.log("Audio autoplay prevented");
          });
        }
      }

      // Try multiple ways to start music
      document.addEventListener("click", startMusic, { once: true });
      document.addEventListener("touchstart", startMusic, { once: true });
      document.addEventListener("keydown", startMusic, { once: true });
      
      // Also try immediately after load
      window.addEventListener("load", () => {
        setTimeout(() => {
          bgMusic.play().then(() => {
            musicPlaying = true;
            musicBtn.textContent = "üé∂";
            musicBtn.classList.add("playing");
          }).catch(() => {
            console.log("Waiting for user interaction");
          });
        }, 500);
      });

      // Main rose interaction
      mainRose.addEventListener("click", (e) => {
        e.stopPropagation();
        createSparkles(e.clientX, e.clientY, 20);
        if (navigator.vibrate) {
          navigator.vibrate([50, 100, 50]);
        }
      });

      // Photo double-tap effect
      let lastTap1 = 0;
      let lastTap2 = 0;

      photo1.addEventListener("touchend", (e) => {
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap1;
        if (tapLength < 300 && tapLength > 0) {
          const rect = photo1.getBoundingClientRect();
          const x = rect.left + rect.width / 2;
          const y = rect.top + rect.height / 2;
          createParticleBurst(x, y);
          createSparkles(x, y, 15);
          if (navigator.vibrate) {
            navigator.vibrate(100);
          }
        }
        lastTap1 = currentTime;
      });

      photo2.addEventListener("touchend", (e) => {
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap2;
        if (tapLength < 300 && tapLength > 0) {
          const rect = photo2.getBoundingClientRect();
          const x = rect.left + rect.width / 2;
          const y = rect.top + rect.height / 2;
          createParticleBurst(x, y);
          createSparkles(x, y, 15);
          if (navigator.vibrate) {
            navigator.vibrate(100);
          }
        }
        lastTap2 = currentTime;
      });

      // Prevent default touch behaviors for smoother experience
      document.addEventListener(
        "touchmove",
        (e) => {
          if (e.target.tagName !== "IMG") {
            e.preventDefault();
          }
        },
        { passive: false },
      );

      // ===== FIREWORKS ANIMATION =====
      const canvas = document.getElementById("fireworksCanvas");
      const ctx = canvas.getContext("2d");
      const specialName = document.getElementById("specialName");
      
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });

      class Particle {
        constructor(x, y, color) {
          this.x = x;
          this.y = y;
          this.color = color;
          this.velocity = {
            x: (Math.random() - 0.5) * 8,
            y: (Math.random() - 0.5) * 8
          };
          this.alpha = 1;
          this.decay = Math.random() * 0.015 + 0.015;
          this.size = Math.random() * 3 + 2;
        }

        draw() {
          ctx.save();
          ctx.globalAlpha = this.alpha;
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
          ctx.restore();
        }

        update() {
          this.velocity.y += 0.1; // gravity
          this.x += this.velocity.x;
          this.y += this.velocity.y;
          this.alpha -= this.decay;
        }
      }

      let particles = [];
      const colors = ["#ff6b9d", "#f5576c", "#ffd700", "#ff1744", "#ff69b4", "#ffffff", "#ffc0cb"];

      function createFirework(x, y) {
        const particleCount = 80;
        const color = colors[Math.floor(Math.random() * colors.length)];
        
        for (let i = 0; i < particleCount; i++) {
          particles.push(new Particle(x, y, color));
        }
      }

      let fireworksActive = true;
      
      function animateFireworks() {
        if (!fireworksActive && particles.length === 0) {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          return;
        }

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        particles.forEach((particle, index) => {
          if (particle.alpha <= 0) {
            particles.splice(index, 1);
          } else {
            particle.update();
            particle.draw();
          }
        });

        requestAnimationFrame(animateFireworks);
      }

      // Launch fireworks show
      function launchFireworksShow() {
        const launches = [
          { delay: 1600, x: canvas.width * 0.2, y: canvas.height * 0.3 },
          { delay: 1800, x: canvas.width * 0.8, y: canvas.height * 0.4 },
          { delay: 2000, x: canvas.width * 0.5, y: canvas.height * 0.2 },
          { delay: 2200, x: canvas.width * 0.3, y: canvas.height * 0.35 },
          { delay: 2400, x: canvas.width * 0.7, y: canvas.height * 0.3 },
          { delay: 2800, x: canvas.width * 0.5, y: canvas.height * 0.25 },
          { delay: 3000, x: canvas.width * 0.4, y: canvas.height * 0.4 },
          { delay: 3200, x: canvas.width * 0.6, y: canvas.height * 0.35 }
        ];

        launches.forEach(launch => {
          setTimeout(() => {
            createFirework(launch.x, launch.y);
            if (navigator.vibrate) {
              navigator.vibrate(30);
            }
          }, launch.delay);
        });
      }

      // Start animations after loading screen
      setTimeout(() => {
        animateFireworks();
        launchFireworksShow();
      }, 1500);

      // Hide special name after display
      setTimeout(() => {
        specialName.classList.add("hidden");
      }, 5500);

      // Stop fireworks after show
      setTimeout(() => {
        fireworksActive = false;
      }, 5000);

      // Fireworks on rose click
      let clickCount = 0;
      mainRose.addEventListener("click", (e) => {
        clickCount++;
        if (clickCount % 3 === 0) {
          const rect = mainRose.getBoundingClientRect();
          const x = rect.left + rect.width / 2;
          const y = rect.top + rect.height / 2;
          createFirework(x, y);
        }
      });
    </script>
  </body>
</html>
